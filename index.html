<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trigonomix</title>
    <link rel="shortcut icon" href="logo.ico" type="image/x-icon">


    <link rel="stylesheet" href="style.css">
    <script type="importmap">
    {
        "imports": {
            
        }
    }
    </script>
    <!-- Cargar Socket.io desde CDN -->
    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
    <script>
        // Verificar si Socket.io se carg√≥ correctamente
        function checkSocketIO() {
            if (typeof io === 'undefined') {
                console.error('Error: No se pudo cargar Socket.io');
                // Mostrar mensaje de error al usuario
                const errorDiv = document.createElement('div');
                errorDiv.style.position = 'fixed';
                errorDiv.style.top = '10px';
                errorDiv.style.left = '50%';
                errorDiv.style.transform = 'translateX(-50%)';
                errorDiv.style.backgroundColor = '#ffebee';
                errorDiv.style.color = '#c62828';
                errorDiv.style.padding = '10px 20px';
                errorDiv.style.borderRadius = '4px';
                errorDiv.style.zIndex = '1000';
                errorDiv.textContent = 'Error: No se pudo cargar la funcionalidad en l√≠nea. Por favor, verifica tu conexi√≥n a Internet y recarga la p√°gina.';
                document.body.appendChild(errorDiv);
                return false;
            }
            console.log('Socket.io cargado correctamente');
            return true;
        }

        // Funci√≥n para inicializar la conexi√≥n cuando todo est√© listo
        function initOnlineMode() {
            if (checkSocketIO() && typeof initSocketConnection === 'function') {
                console.log('Inicializando conexi√≥n Socket.io...');
                initSocketConnection();
            } else {
                console.warn('La funci√≥n initSocketConnection no est√° disponible a√∫n');
                // Reintentar despu√©s de un breve retraso
                setTimeout(initOnlineMode, 500);
            }
        }

        // Inicializar cuando el DOM est√© completamente cargado
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initOnlineMode);
        } else {
            // Si el DOM ya est√° cargado, inicializar directamente
            initOnlineMode();
        }
    </script>
</head>
<body>
    
        
    <div id="app-container">
        <button id="toggle-theme-button" class="nav-button">Modo oscuro</button>
        

        <!-- Start Screen -->
        <div id="start-screen" class="screen active">
            <h1>Trigonomix</h1>
            <p>Un juego interactivo y divertido para aprender razones trigonom√©tricas.</p>
            <div id="player-name-container">
                <label for="player-name-input">Nombre del Jugador:</label>
                <input type="text" id="player-name-input" placeholder="Jugador" maxlength="20">
            </div>
            <button id="start-game-button" class="action-button">üöÄComenzar</button>
            <button id="survival-button" class="action-button">‚è≥Modo Supervivencia</button>
            <button id="multiplayer-button" class="action-button">üéÆModo 2 Jugadores</button>
            <button id="online-button" class="action-button">üåêMultijugador Online</button>
            <button id="theory-button" class="secondary-button">üìöTeor√≠a</button>
            <button id="history-button" class="secondary-button">üìúHistorial</button>
            <button id="achievements-button" class="secondary-button">üèÜLogros</button>
            <button id="authors-button" class="secondary-button">üßë‚ÄçüíªAutores</button>
            <button id="about-button" class="secondary-button">‚ÑπÔ∏è Acerca de</button>
        </div>

        <!-- Level Select Screen -->
        <div id="level-select-screen" class="screen">
            <h2>Selecciona un Nivel</h2>
            <button id="level-easy" data-level="easy" class="level-button action-button">
                üü¢ F√°cil (Conceptos)
                <span class="level-highscore" data-level="easy">Mejor: 0 (CPU)</span>
            </button>
            <button id="level-intermediate" data-level="intermediate" class="level-button action-button">
                üü° Intermedio (Identificaci√≥n)
                <span class="level-highscore" data-level="intermediate">Mejor: 0 (CPU)</span>
            </button>
            <button id="level-difficult" data-level="difficult" class="level-button action-button">
               üî¥ Dif√≠cil (Relaciones)
                <span class="level-highscore" data-level="difficult">Mejor: 0 (CPU)</span>
            </button>
            <button class="nav-button" data-target="start-screen">Volver al Inicio</button>
        </div>

        <!-- Game Screen -->
        <div id="game-screen" class="screen">
            <div class="game-header">
                <span id="current-level-text">Nivel: F√°cil</span>
                <span id="current-score">Puntaje: 0</span>
                <span id="timer-display">Tiempo: 30</span>
                <span id="question-counter">Pregunta: 1/X</span>
            </div>
            <h3 id="question-text">Cargando pregunta...</h3>
            <div id="question-image-container">
                <img id="question-image" src="" alt="Diagrama de la pregunta" style="display:none;"> 
                <p id="image-value-info"></p>
            </div>
            <div id="options-container">
                <!-- Options will be populated by JS - could be text or images -->
            </div>
            <p id="feedback-text" class="feedback-animation"></p>
            <button id="next-question-button" class="action-button" style="display:none;">Siguiente Pregunta</button>
            <button id="quit-game-button" class="nav-button" data-target="level-select-screen">Salir del Juego</button>
        </div>

        <!-- Game Over Screen -->
        <div id="game-over-screen" class="screen">
            <h2 id="game-over-title">¬°Juego Terminado!</h2>
            <p id="final-score-text">Tu puntaje final: 0</p>
            <p id="level-high-score-text">Mejor puntaje para este nivel: 0 por CPU</p>
            <button id="play-again-button" class="action-button">Jugar de Nuevo (Mismo Nivel)</button>
            <button class="nav-button" data-target="level-select-screen">Seleccionar Otro Nivel</button>
            <button class="nav-button" data-target="start-screen">Volver al Inicio</button>
        </div>
        
        <!-- History Screen -->
        <div id="history-screen" class="screen">
            <h2>Historial de Respuestas</h2>
            <div id="history-list">
                <!-- History items will be populated by JS -->
            </div>
            <button id="clear-history-button" class="action-button">Limpiar Historial</button>
            <button class="nav-button" data-target="start-screen">Volver al Inicio</button>
        </div>

        <!-- Authors Screen -->
        <div id="authors-screen" class="screen">
            <h2>Autores</h2>
            <div class="authors-container">
                <div class="author-card">
                    <h3 class="author-name">Juan Manuel Montenegro</h3>
                    <p class="author-role">Mbapp√©</p>
                </div>
                <div class="author-card">
                    <h3 class="author-name">Juan David Rivas</h3>
                    <p class="author-role">Demb√©l√©</p>
                </div>
                <div class="author-card">
                    <h3 class="author-name">Grado 10-2</h3>
                </div>
            </div>
            <button class="nav-button" data-target="start-screen">Volver al Inicio</button>
        </div>

        <!-- Theory Screen -->
        <div id="theory-screen" class="screen">
            <h2>Teor√≠a de Trigonometr√≠a</h2>
            <div class="theory-content">
                <div class="theory-topic">
                    <h3>Tri√°ngulo Rect√°ngulo</h3>
                    <img src="triangle_diagram.png" alt="Diagrama de Tri√°ngulo con etiquetas o, a, h" class="theory-image">
                    <p>Un tri√°ngulo rect√°ngulo tiene un √°ngulo de 90¬∞. Los lados que forman el √°ngulo recto se llaman <strong>catetos</strong>. El lado m√°s largo, opuesto al √°ngulo recto, es la <strong>hipotenusa</strong>.</p>
                    <p>En el diagrama:</p>
                    <ul>
                        <li><strong>Œ∏ (theta):</strong> Es el √°ngulo de referencia.</li>
                        <li><strong>o (Cateto Opuesto):</strong> Lado opuesto al √°ngulo Œ∏.</li>
                        <li><strong>a (Cateto Adyacente):</strong> Lado adyacente al √°ngulo Œ∏ (que no es la hipotenusa).</li>
                        <li><strong>h (Hipotenusa):</strong> Lado m√°s largo, opuesto al √°ngulo recto.</li>
                    </ul>
                </div>
                <div class="theory-topic">
                    <h3>Seno (sin Œ∏)</h3>
                    <p>El Seno de un √°ngulo Œ∏ es la raz√≥n entre el cateto opuesto y la hipotenusa.</p>
                    <p><strong>F√≥rmula:</strong> sen(Œ∏) = Cateto Opuesto / Hipotenusa (o/h)</p>
                </div>
                <div class="theory-topic">
                    <h3>Coseno (cos Œ∏)</h3>
                    <p>El Coseno de un √°ngulo Œ∏ es la raz√≥n entre el cateto adyacente y la hipotenusa.</p>
                    <p><strong>F√≥rmula:</strong> cos(Œ∏) = Cateto Adyacente / Hipotenusa (a/h)</p>
                </div>
                <div class="theory-topic">
                    <h3>Tangente (tan Œ∏)</h3>
                    <p>La Tangente de un √°ngulo Œ∏ es la raz√≥n entre el cateto opuesto y el cateto adyacente.</p>
                    <p><strong>F√≥rmula:</strong> tan(Œ∏) = Cateto Opuesto / Cateto Adyacente (o/a)</p>
                </div>
            </div>
            <button class="nav-button" data-target="start-screen">Volver al Inicio</button>
        </div>

        <!-- Achievements Screen -->
        <div id="achievements-screen" class="screen">
            <h2>Mis Logros</h2>
            <div id="achievements-list">
                <!-- Achievements will be populated by JS -->
            </div>
            <button class="nav-button" data-target="start-screen">Volver al Inicio</button>
        </div>
        <!-- About Screen -->
<div id="about-screen" class="screen">
    <h2 class="about-title">Acerca de Trigonomix</h2>
    <p class="about-subtitle">Aprende trigonometr√≠a de forma interactiva y divertida</p>
    
    <div class="about-content">
        <section class="about-card">
            <h3>¬øQu√© es Trigonomix?</h3>
            <p>Trigonomix es una aplicaci√≥n educativa dise√±ada para hacer el aprendizaje de las razones trigonom√©tricas m√°s accesible, interactivo y entretenido para estudiantes.</p>
        </section>
        
        <section class="about-card">
            <h3>Objetivo educativo</h3>
            <p>Nuestra app ayuda a comprender y practicar los conceptos fundamentales de trigonometr√≠a a trav√©s de:</p>
            <ul class="feature-list">
                <li>Explicaciones te√≥ricas claras</li>
                <li>Ejercicios pr√°cticos graduados por dificultad</li>
                <li>Retroalimentaci√≥n inmediata</li>
                <li>Sistema de logros motivadores</li>
            </ul>
        </section>
        
        <section class="about-card">
            <h3>¬øC√≥mo aplicamos la trigonometr√≠a?</h3>
            <p>En Trigonomix trabajamos con las tres razones trigonom√©tricas b√°sicas:</p>
            <div class="trig-functions">
                <div class="trig-function">
                    <span class="trig-icon">S</span>
                    <strong>Seno</strong> (sen Œ∏) = Opuesto/Hipotenusa
                </div>
                <div class="trig-function">
                    <span class="trig-icon">C</span>
                    <strong>Coseno</strong> (cos Œ∏) = Adyacente/Hipotenusa
                </div>
                <div class="trig-function">
                    <span class="trig-icon">T</span>
                    <strong>Tangente</strong> (tan Œ∏) = Opuesto/Adyacente
                </div>
            </div>
        </section>
        
        <section class="about-card">
            <h3>¬øQu√© nos hace diferentes?</h3>
            <p>Trigonomix combina lo mejor de la educaci√≥n tradicional con las ventajas de la tecnolog√≠a:</p>
            <ul class="feature-list">
                <li>Aprendizaje gamificado con puntajes y logros</li>
                <li>Adaptaci√≥n al ritmo de cada estudiante</li>
                <li>Visualizaciones interactivas de conceptos abstractos</li>
                <li>Disponibilidad 24/7 para practicar cuando quieras</li>
            </ul>
        </section>
        
        <button class="nav-button" data-target="start-screen">Volver al Inicio</button>
    </div>
</div>

<!-- Pantallas para modo multijugador -->
<!-- Pantalla de configuraci√≥n multijugador -->
<div id="multiplayer-setup-screen" class="screen">
    <h2 class="multiplayer-title">Modo 2 Jugadores</h2>
    <div class="player-inputs-container">
        <div class="player-input-group">
            <label for="player1-name-input">Nombre del Jugador 1:</label>
            <input type="text" id="player1-name-input" placeholder="Jugador 1" maxlength="20">
        </div>
        <div class="player-input-group">
            <label for="player2-name-input">Nombre del Jugador 2:</label>
            <input type="text" id="player2-name-input" placeholder="Jugador 2" maxlength="20">
        </div>
    </div>
    
    <div class="questions-selector">
        <label>N√∫mero de preguntas:</label>
        <div class="questions-options">
            <div class="question-option" data-questions="10">10</div>
            <div class="question-option selected" data-questions="20">20</div>
            <div class="question-option" data-questions="30">30</div>
        </div>
    </div>
    
    <button id="start-multiplayer-button" class="action-button">Comenzar Partida</button>
    <button class="nav-button" data-target="start-screen">Volver al Inicio</button>
</div>

<!-- Pantalla de juego multijugador -->
<div id="multiplayer-game-screen" class="screen">
    <div class="player-turn-indicator player1-turn">
        Turno de: <span id="current-player-name">Jugador 1</span>
    </div>
    
    <div class="scores-container">
        <div class="player-score active" id="player1-score">
            <span class="player-name" id="display-player1-name">Jugador 1</span>
            <span class="player-points" id="player1-points">0</span>
        </div>
        <div class="player-score" id="player2-score">
            <span class="player-name" id="display-player2-name">Jugador 2</span>
            <span class="player-points" id="player2-points">0</span>
        </div>
    </div>
    
    <h3 id="multiplayer-question-text">Cargando pregunta...</h3>
    <div id="multiplayer-question-image-container">
        <img id="multiplayer-question-image" src="" alt="Diagrama de la pregunta" style="display:none;"> 
        <p id="multiplayer-image-value-info"></p>
    </div>
    <div id="multiplayer-options-container">
        <!-- Las opciones ser√°n agregadas por JavaScript -->
    </div>
    <p id="multiplayer-feedback-text" class="feedback-animation"></p>
    <button id="multiplayer-next-question-button" class="action-button" style="display:none;">Siguiente Pregunta</button>
    <button id="quit-multiplayer-button" class="nav-button" data-target="start-screen">Salir del Juego</button>
</div>

<!-- Pantalla de resultados multijugador -->
<div id="multiplayer-results-screen" class="screen">
    <h2 class="results-title">Resultados del Juego</h2>
    
    <div id="winner-container">
        <!-- Ser√° completado din√°micamente por JS dependiendo si hay ganador o empate -->
    </div>
    
    <div class="players-results-container">
        <div class="player-result-card" id="player1-result">
            <h3 class="result-player-name" id="result-player1-name">Jugador 1</h3>
            <div class="player-stats">
                <div class="stat-item">
                    <div class="stat-value" id="player1-final-points">0</div>
                    <div class="stat-label">Puntos</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="player1-correct-answers">0</div>
                    <div class="stat-label">Correctas</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="player1-incorrect-answers">0</div>
                    <div class="stat-label">Incorrectas</div>
                </div>
            </div>
        </div>
        
        <div class="player-result-card" id="player2-result">
            <h3 class="result-player-name" id="result-player2-name">Jugador 2</h3>
            <div class="player-stats">
                <div class="stat-item">
                    <div class="stat-value" id="player2-final-points">0</div>
                    <div class="stat-label">Puntos</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="player2-correct-answers">0</div>
                    <div class="stat-label">Correctas</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="player2-incorrect-answers">0</div>
                    <div class="stat-label">Incorrectas</div>
                </div>
            </div>
        </div>
    </div>
    
    <button id="play-again-multiplayer-button" class="action-button">Jugar de Nuevo</button>
    <button class="nav-button" data-target="start-screen">Volver al Inicio</button>
</div>

        <!-- NUEVAS PANTALLAS PARA MODO ONLINE -->
        <!-- Pantalla de men√∫ multijugador online -->
        <div id="online-menu-screen" class="screen">
            <h2 class="online-title">Multijugador Online</h2>
            <div class="online-options">
                <button id="create-room-button" class="action-button online-option">
                    <span class="option-icon">üè†</span>
                    <span class="option-text">Crear Sala</span>
                </button>
                <button id="join-room-button" class="action-button online-option">
                    <span class="option-icon">üö™</span>
                    <span class="option-text">Unirse a Sala</span>
                </button>
            </div>
            <button class="nav-button" data-target="start-screen">Volver al Inicio</button>
        </div>

        <!-- Pantalla crear sala -->
        <div id="create-room-screen" class="screen">
            <h2 class="online-title">Crear Sala</h2>
            <div class="room-setup-container">
                <div class="host-settings">
                    <div class="questions-selector">
                        <label>N√∫mero de preguntas:</label>
                        <div class="questions-options">
                            <div class="question-option" data-questions="10">10</div>
                            <div class="question-option selected" data-questions="20">20</div>
                            <div class="question-option" data-questions="30">30</div>
                        </div>
                    </div>
                </div>
                <button id="create-room-confirm-button" class="action-button">Crear Sala</button>
            </div>
            <button class="nav-button" data-target="online-menu-screen">Volver</button>
        </div>

        <!-- Pantalla unirse a sala -->
        <div id="join-room-screen" class="screen">
            <h2 class="online-title">Unirse a Sala</h2>
            <div class="room-join-container">
                <div class="room-code-input-container">
                    <label for="room-code-input">C√≥digo de Sala:</label>
                    <input type="text" id="room-code-input" placeholder="Ingresa c√≥digo de 6 d√≠gitos" maxlength="6">
                </div>
                <div id="join-room-error" class="room-join-error"></div>
                <button id="join-room-confirm-button" class="action-button">Unirse a Sala</button>
            </div>
            <button class="nav-button" data-target="online-menu-screen">Volver</button>
        </div>

        <!-- Pantalla de sala de espera -->
        <div id="waiting-room-screen" class="screen">
            <h2 class="online-title">Sala de Espera</h2>
            <div class="room-info">
                <div class="room-code-display">
                    C√≥digo de sala: <span id="room-code-display">------</span>
                    <button id="copy-room-code" class="copy-button">Copiar</button>
                </div>
            </div>
            <div class="players-list">
                <div class="player-item host-player" id="host-player-item">
                    <span class="player-icon">üëë</span>
                    <span class="player-name" id="host-player-name">Anfitri√≥n</span>
                    <span class="player-status ready">Listo</span>
                </div>
                <div class="player-item guest-player" id="guest-player-item">
                    <span class="player-icon">üë§</span>
                    <span class="player-name" id="guest-player-name">Esperando jugador...</span>
                    <span class="player-status">-</span>
                </div>
            </div>
            <div class="waiting-room-controls">
                <button id="start-online-game-button" class="action-button" disabled>Comenzar Juego</button>
                <div class="game-setup-info">
                    <p>Preguntas: <span id="questions-count">20</span></p>
                </div>
            </div>
            <button id="leave-room-button" class="nav-button">Abandonar Sala</button>
        </div>

        <!-- Pantalla de juego online -->
        <div id="online-game-screen" class="screen">
            <div class="online-game-header">
                <div class="player-turn-indicator" id="online-turn-indicator">
                    Turno de: <span id="online-current-player-name">Jugador</span>
                </div>
                <div class="question-counter-online">
                    Pregunta: <span id="online-question-counter">1/20</span>
                </div>
                <div class="online-timer" id="online-timer">
                    Tiempo: <span id="online-timer-value">15</span>
                </div>
            </div>
            
            <div class="online-players-score">
                <div class="online-player-score active" id="online-player1-score">
                    <span class="player-name" id="online-player1-name">Jugador 1</span>
                    <span class="player-points" id="online-player1-points">0</span>
                </div>
                <div class="online-player-score" id="online-player2-score">
                    <span class="player-name" id="online-player2-name">Jugador 2</span>
                    <span class="player-points" id="online-player2-points">0</span>
                </div>
            </div>
            
            <h3 id="online-question-text">Cargando pregunta...</h3>
            <div id="online-question-image-container">
                <img id="online-question-image" src="" alt="Diagrama de la pregunta" style="display:none;"> 
                <p id="online-image-value-info"></p>
            </div>
            <div id="online-options-container">
                <!-- Las opciones ser√°n agregadas por JavaScript -->
            </div>
            <p id="online-feedback-text" class="feedback-animation"></p>
        </div>

        <!-- Pantalla de resultados online -->
        <div id="online-results-screen" class="screen">
            <h2 class="results-title">Resultados del Juego Online</h2>
            
            <div id="online-winner-container">
                <!-- Ser√° completado din√°micamente por JS dependiendo si hay ganador o empate -->
            </div>
            
            <div class="players-results-container">
                <div class="player-result-card" id="online-player1-result">
                    <h3 class="result-player-name" id="online-result-player1-name">Jugador 1</h3>
                    <div class="player-stats">
                        <div class="stat-item">
                            <div class="stat-value" id="online-player1-final-points">0</div>
                            <div class="stat-label">Puntos</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="online-player1-correct-answers">0</div>
                            <div class="stat-label">Correctas</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="online-player1-incorrect-answers">0</div>
                            <div class="stat-label">Incorrectas</div>
                        </div>
                    </div>
                </div>
                
                <div class="player-result-card" id="online-player2-result">
                    <h3 class="result-player-name" id="online-result-player2-name">Jugador 2</h3>
                    <div class="player-stats">
                        <div class="stat-item">
                            <div class="stat-value" id="online-player2-final-points">0</div>
                            <div class="stat-label">Puntos</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="online-player2-correct-answers">0</div>
                            <div class="stat-label">Correctas</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="online-player2-incorrect-answers">0</div>
                            <div class="stat-label">Incorrectas</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="online-results-controls">
                <button id="online-play-again-button" class="action-button">Jugar de Nuevo</button>
                <button id="online-back-to-lobby-button" class="action-button">Volver al Lobby</button>
                <button class="nav-button" data-target="start-screen">Salir al Men√∫ Principal</button>
            </div>
        </div>
        
        <!-- Pantalla de error de conexi√≥n -->
        <div id="connection-error-screen" class="screen">
            <h2 class="error-title">Error de Conexi√≥n</h2>
            <p class="error-message" id="connection-error-message">
                Se ha perdido la conexi√≥n con el servidor.
            </p>
            <button class="action-button" id="retry-connection-button">Reintentar Conexi√≥n</button>
            <button class="nav-button" data-target="start-screen">Volver al Inicio</button>
        </div>

        <!-- Survival Mode Screen -->
        <div id="modo-supervivencia" class="screen">
            <div class="survival-header">
                <div class="survival-score-container">
                    <span id="survival-score">Aciertos: 0</span>
                </div>
                <div class="survival-question-counter">
                    <span id="survival-question-number">Pregunta: 1</span>
                </div>
                <div class="survival-timer-container">
                    <div id="survival-timer-text">Tiempo: 20</div>
                    <div id="survival-timer-bar-container">
                        <div id="survival-timer-bar"></div>
                    </div>
                </div>
            </div>

            <h3 id="survival-question-text">Cargando pregunta...</h3>
            <div id="survival-question-image-container">
                <img id="survival-question-image" src="" alt="Diagrama de la pregunta" style="display:none;"> 
                <p id="survival-image-value-info"></p>
            </div>
            <div id="survival-options-container">
                <!-- Options will be populated by JS -->
            </div>
            <p id="survival-feedback-text" class="feedback-animation"></p>
            <button id="quit-survival-button" class="nav-button" data-target="start-screen">Salir del Juego</button>
        </div>

        <!-- Survival Game Over Screen -->
        <div id="survival-game-over-screen" class="screen">
            <h2 id="survival-game-over-title">¬°Juego Terminado!</h2>
            <div class="survival-result-container">
                <div class="survival-result-score">
                    <span class="result-label">Preguntas respondidas correctamente:</span>
                    <span id="survival-final-score" class="result-value">0</span>
                </div>
                <p id="survival-message" class="result-message">¬°Buen intento! Sigue practicando para mejorar.</p>
            </div>
            <button id="survival-play-again-button" class="action-button">Jugar de Nuevo</button>
            <button class="nav-button" data-target="start-screen">Volver al Inicio</button>
        </div>

    </div>
    
    <!-- Scripts -->
    <script>
        // Script para el bot√≥n de cambio de tema
        document.addEventListener('DOMContentLoaded', function() {
            const toggleButton = document.getElementById('toggle-theme-button');
            if (toggleButton) {
                toggleButton.addEventListener('click', function () {
                    document.body.classList.toggle('dark-mode');
                    const isDarkMode = document.body.classList.contains('dark-mode');
                    this.textContent = isDarkMode ? 'Modo claro' : 'Modo oscuro';
                });
            }
        });
    </script>
    
    <!-- Script para efectos de sonido -->
    <script>
        // Crea un objeto Audio para el sonido
        const clickSound = new Audio('click.mp3');

        // Funci√≥n para inicializar los efectos de sonido
        function initSoundEffects() {
            // Selecciona todos los botones
            const buttons = document.querySelectorAll('button');

            // Agrega evento click a cada bot√≥n para reproducir sonido
            buttons.forEach(button => {
                button.addEventListener('click', () => {
                    // Reinicia el sonido para que pueda sonar repetido r√°pido
                    if (clickSound) {
                        clickSound.currentTime = 0;
                        clickSound.play().catch(e => console.error('Error reproduciendo sonido:', e));
                    }
                });
            });
        }


        // Inicializar efectos de sonido cuando el DOM est√© completamente cargado
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initSoundEffects);
        } else {
            initSoundEffects();
        }
    </script>
    
    <!-- Script para el modo online - cargado con defer para asegurar que se ejecute en orden -->
    <script src="online.js"></script>
    
    <!-- Script principal - cargado al final -->
    <script src="script.js" type="module"></script>
    
    <!-- Inicializaci√≥n de Socket.io -->
    <script>
        // Esperar a que todo el DOM est√© listo
        document.addEventListener('DOMContentLoaded', function() {
            // Verificar si el bot√≥n de online existe antes de intentar inicializar
            if (document.getElementById('online-button') && typeof initSocketConnection === 'function') {
                console.log('Inicializando Socket.io...');
                initSocketConnection();
            } else {
                console.warn('No se pudo inicializar Socket.io: bot√≥n no encontrado o funci√≥n no disponible');
            }
        });
    </script>
</body>
</html>
